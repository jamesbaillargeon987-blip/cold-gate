<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Operation: The Cold Gate â€” Overland Map</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Share+Tech+Mono&family=Cinzel:wght@400;600&display=swap');

  :root {
    --bg: #06080a;
    --snow: #d8e4ec;
    --snow-dark: #b0c4d0;
    --pine-dark: #0d1a0e;
    --pine-mid: #162a18;
    --pine-light: #1e3a20;
    --frozen-water: #1a2e3a;
    --frozen-water-light: #2a4a5a;
    --track: #3a3020;
    --track-light: #5a4a30;
    --blood: #8b0000;
    --red: #c0392b;
    --gold: #cc9900;
    --blue: #4a8acc;
    --text: #c8c0b0;
    --muted: #556070;
    --panel: #0a0c0e;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Crimson Text', Georgia, serif;
    overflow: hidden;
    width: 100vw;
    height: 100vh;
    cursor: crosshair;
  }

  /* â”€â”€ HEADER BAR â”€â”€ */
  .header {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 100;
    background: linear-gradient(180deg, rgba(4,5,7,0.98) 0%, rgba(4,5,7,0.85) 100%);
    border-bottom: 1px solid rgba(139,0,0,0.3);
    padding: 0.6rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    backdrop-filter: blur(4px);
  }
  .header-left { display: flex; align-items: baseline; gap: 1rem; }
  .header-title {
    font-family: 'Cinzel', serif;
    font-size: 1.1rem;
    color: var(--red);
    letter-spacing: 0.08em;
  }
  .header-sub {
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.6rem;
    color: var(--muted);
    letter-spacing: 0.2em;
  }
  .header-right {
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.6rem;
    color: #2a3a4a;
    letter-spacing: 0.12em;
    text-align: right;
    line-height: 1.6;
  }
  .hint {
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.58rem;
    color: #2a3540;
    letter-spacing: 0.1em;
  }

  /* â”€â”€ MAP CANVAS â”€â”€ */
  #mapCanvas {
    position: fixed;
    top: 48px; left: 0; right: 0; bottom: 0;
    width: 100%;
    height: calc(100vh - 48px);
  }

  /* â”€â”€ TOOLTIP â”€â”€ */
  .tooltip {
    position: fixed;
    z-index: 200;
    max-width: 340px;
    min-width: 240px;
    background: rgba(6, 8, 10, 0.97);
    border: 1px solid #1a2028;
    border-radius: 3px;
    pointer-events: none;
    opacity: 0;
    transform: translateY(8px);
    transition: opacity 0.15s ease, transform 0.15s ease;
    box-shadow: 0 12px 40px rgba(0,0,0,0.9), 0 0 0 1px rgba(255,255,255,0.03);
  }
  .tooltip.visible { opacity: 1; transform: translateY(0); }
  .tooltip-header {
    padding: 0.55rem 0.8rem 0.4rem;
    border-bottom: 1px solid #111518;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 0.8rem;
  }
  .tt-left { flex: 1; }
  .tt-eyebrow {
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.58rem;
    color: var(--muted);
    letter-spacing: 0.15em;
    margin-bottom: 0.2rem;
  }
  .tt-name {
    font-family: 'Cinzel', serif;
    font-size: 1rem;
    color: #ddd;
    line-height: 1.2;
  }
  .tt-tag {
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.55rem;
    padding: 2px 6px;
    border-radius: 2px;
    white-space: nowrap;
    margin-top: 2px;
    flex-shrink: 0;
  }
  .tag-start { background: rgba(74,138,204,0.12); color: var(--blue); border: 1px solid rgba(74,138,204,0.25); }
  .tag-key { background: rgba(204,153,0,0.12); color: var(--gold); border: 1px solid rgba(204,153,0,0.25); }
  .tag-danger { background: rgba(139,0,0,0.12); color: var(--red); border: 1px solid rgba(139,0,0,0.25); }
  .tag-town { background: rgba(80,160,80,0.1); color: #6aba6a; border: 1px solid rgba(80,160,80,0.2); }
  .tag-path { background: rgba(100,80,40,0.15); color: #aa9060; border: 1px solid rgba(100,80,40,0.2); }

  .tooltip-body {
    padding: 0.55rem 0.8rem 0.65rem;
  }
  .tt-desc {
    font-size: 0.85rem;
    color: #888;
    line-height: 1.55;
    font-style: italic;
    margin-bottom: 0.5rem;
  }
  .tt-items { list-style: none; display: flex; flex-direction: column; gap: 0.22rem; }
  .tt-items li {
    font-size: 0.78rem;
    color: #777;
    padding-left: 0.85rem;
    position: relative;
    line-height: 1.4;
  }
  .tt-items li::before { content: 'â€”'; position: absolute; left: 0; color: #2a2a2a; }
  .tt-items li.li-key { color: #cc9900; }
  .tt-items li.li-key::before { color: #554400; }
  .tt-items li.li-danger { color: #c0392b; }
  .tt-items li.li-danger::before { color: #4a1010; }
  .tt-items li.li-note { color: #4a7aaa; font-size: 0.75rem; margin-top: 0.25rem; }
  .tt-items li.li-note::before { color: #1a3a5a; }
  .tt-dist {
    margin-top: 0.5rem;
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.6rem;
    color: #334;
    letter-spacing: 0.08em;
    padding-top: 0.4rem;
    border-top: 1px solid #111518;
  }

  /* â”€â”€ LEGEND â”€â”€ */
  .legend {
    position: fixed;
    bottom: 1.2rem;
    left: 1.2rem;
    z-index: 100;
    background: rgba(6,8,10,0.92);
    border: 1px solid #111518;
    border-radius: 3px;
    padding: 0.7rem 0.9rem;
    backdrop-filter: blur(4px);
  }
  .legend-title {
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.55rem;
    color: #2a3a4a;
    letter-spacing: 0.2em;
    margin-bottom: 0.5rem;
  }
  .legend-items { display: flex; flex-direction: column; gap: 0.3rem; }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.58rem;
    color: #3a4a5a;
    letter-spacing: 0.06em;
  }
  .legend-icon { width: 16px; text-align: center; font-size: 0.7rem; }

  /* â”€â”€ COMPASS â”€â”€ */
  .compass {
    position: fixed;
    bottom: 1.5rem;
    right: 1.5rem;
    z-index: 100;
    width: 64px;
    height: 64px;
    opacity: 0.5;
  }

  /* â”€â”€ SCALE BAR â”€â”€ */
  .scale-bar {
    position: fixed;
    bottom: 1.2rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.58rem;
    color: #2a3a4a;
    letter-spacing: 0.1em;
    text-align: center;
  }
  .scale-line {
    width: 120px;
    height: 4px;
    border: 1px solid #2a3a4a;
    border-top: none;
    margin-bottom: 3px;
    position: relative;
  }
  .scale-line::before, .scale-line::after {
    content: '';
    position: absolute;
    top: 0;
    width: 1px;
    height: 6px;
    background: #2a3a4a;
  }
  .scale-line::before { left: 0; }
  .scale-line::after { right: 0; }
</style>
</head>
<body>

<!-- Header -->
<div class="header">
  <div class="header-left">
    <div class="header-title">THE COLD GATE</div>
    <div class="header-sub">OVERLAND MAP  Â·  SIBERIAN TAIGA  Â·  APPROX. âˆ’32Â°C</div>
  </div>
  <div class="header-right">
    <div>OPERATION: NASHEPTYVAL</div>
    <div class="hint">HOVER LOCATIONS FOR GM NOTES  Â·  SCROLL TO ZOOM</div>
  </div>
</div>

<!-- SVG Map -->
<svg id="mapCanvas" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 900">
  <defs>
    <!-- Snow ground texture -->
    <pattern id="snowPattern" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
      <rect width="60" height="60" fill="#0e1318"/>
      <circle cx="10" cy="15" r="1.2" fill="#16202a" opacity="0.6"/>
      <circle cx="35" cy="8"  r="0.8" fill="#16202a" opacity="0.5"/>
      <circle cx="52" cy="40" r="1.0" fill="#16202a" opacity="0.5"/>
      <circle cx="22" cy="50" r="0.9" fill="#16202a" opacity="0.4"/>
      <circle cx="48" cy="22" r="1.1" fill="#16202a" opacity="0.5"/>
      <circle cx="5"  cy="45" r="0.7" fill="#16202a" opacity="0.4"/>
    </pattern>

    <!-- Dense forest fill -->
    <pattern id="forestDense" x="0" y="0" width="28" height="28" patternUnits="userSpaceOnUse">
      <rect width="28" height="28" fill="#0a1208"/>
      <polygon points="14,2 10,10 18,10" fill="#0e1a0c" opacity="0.9"/>
      <polygon points="14,6 9,14 19,14" fill="#0c1809" opacity="0.8"/>
      <rect x="12.5" y="14" width="3" height="5" fill="#080e06"/>
    </pattern>

    <!-- Medium forest -->
    <pattern id="forestMed" x="0" y="0" width="36" height="36" patternUnits="userSpaceOnUse">
      <rect width="36" height="36" fill="#0c1510"/>
      <polygon points="18,3 13,13 23,13" fill="#112018" opacity="0.85"/>
      <polygon points="18,8 12,18 24,18" fill="#0f1c14" opacity="0.75"/>
      <rect x="16" y="18" width="4" height="6" fill="#090e07"/>
    </pattern>

    <!-- Sparse forest -->
    <pattern id="forestSparse" x="0" y="0" width="48" height="48" patternUnits="userSpaceOnUse">
      <rect width="48" height="48" fill="#0e1812"/>
      <polygon points="24,4 19,16 29,16" fill="#16281a" opacity="0.7"/>
      <polygon points="24,10 18,22 30,22" fill="#12221a" opacity="0.6"/>
      <rect x="22" y="22" width="4" height="8" fill="#0a0e08"/>
    </pattern>

    <!-- Frozen river -->
    <linearGradient id="riverGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#1a2e3a"/>
      <stop offset="50%" stop-color="#243a4a"/>
      <stop offset="100%" stop-color="#1a2e3a"/>
    </linearGradient>

    <!-- Glow filters -->
    <filter id="glow-red">
      <feGaussianBlur stdDeviation="4" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glow-blue">
      <feGaussianBlur stdDeviation="5" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glow-gold">
      <feGaussianBlur stdDeviation="3" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glow-soft">
      <feGaussianBlur stdDeviation="8" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="shadow">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.8"/>
    </filter>

    <!-- Road pattern -->
    <pattern id="roadPattern" x="0" y="0" width="20" height="6" patternUnits="userSpaceOnUse" patternTransform="rotate(0)">
      <rect width="20" height="6" fill="#2a2218"/>
      <rect x="0" y="2.5" width="8" height="1" fill="#4a3a28" opacity="0.7"/>
    </pattern>

    <!-- Vignette -->
    <radialGradient id="vignette" cx="50%" cy="50%" r="70%">
      <stop offset="0%" stop-color="transparent"/>
      <stop offset="100%" stop-color="#060810" stop-opacity="0.85"/>
    </radialGradient>
  </defs>

  <!-- â•â•â• BASE GROUND â•â•â• -->
  <rect width="1600" height="900" fill="url(#snowPattern)"/>

  <!-- â•â•â• DENSE FOREST ZONES â•â•â• -->
  <!-- West forest mass -->
  <ellipse cx="180" cy="450" rx="260" ry="420" fill="url(#forestDense)" opacity="0.95"/>
  <!-- Northeast forest -->
  <ellipse cx="1380" cy="200" rx="280" ry="280" fill="url(#forestDense)" opacity="0.9"/>
  <!-- South forest -->
  <ellipse cx="900" cy="820" rx="600" ry="160" fill="url(#forestDense)" opacity="0.85"/>
  <!-- North forest strip -->
  <rect x="0" y="0" width="1600" height="120" fill="url(#forestDense)" opacity="0.8"/>
  <!-- SE forest -->
  <ellipse cx="1450" cy="700" rx="200" ry="260" fill="url(#forestDense)" opacity="0.88"/>

  <!-- Medium forest zones â€” fill gaps -->
  <ellipse cx="600" cy="750" rx="300" ry="120" fill="url(#forestMed)" opacity="0.8"/>
  <ellipse cx="1200" cy="600" rx="180" ry="200" fill="url(#forestMed)" opacity="0.75"/>
  <ellipse cx="350" cy="200" rx="200" ry="160" fill="url(#forestMed)" opacity="0.8"/>
  <ellipse cx="1050" cy="150" rx="200" ry="130" fill="url(#forestMed)" opacity="0.75"/>

  <!-- Sparse forest â€” clearings with scattered trees -->
  <ellipse cx="700" cy="480" rx="120" ry="100" fill="url(#forestSparse)" opacity="0.6"/>
  <ellipse cx="950" cy="380" rx="140" ry="90" fill="url(#forestSparse)" opacity="0.55"/>

  <!-- â•â•â• FROZEN RIVER (winds W to E through middle) â•â•â• -->
  <path d="M 0,520 Q 150,500 280,540 Q 420,580 550,560 Q 680,540 750,510 Q 850,475 950,490 Q 1050,505 1150,480 Q 1250,455 1350,470 Q 1450,485 1600,460"
        fill="none" stroke="url(#riverGrad)" stroke-width="28" opacity="0.9"/>
  <path d="M 0,520 Q 150,500 280,540 Q 420,580 550,560 Q 680,540 750,510 Q 850,475 950,490 Q 1050,505 1150,480 Q 1250,455 1350,470 Q 1450,485 1600,460"
        fill="none" stroke="#2a4a5a" stroke-width="24" opacity="0.7"/>
  <!-- Ice cracks on river -->
  <path d="M 200,515 L 215,530 L 230,520" fill="none" stroke="#3a5a6a" stroke-width="0.8" opacity="0.5"/>
  <path d="M 500,555 L 510,545 L 525,558" fill="none" stroke="#3a5a6a" stroke-width="0.8" opacity="0.5"/>
  <path d="M 800,498 L 820,508 L 835,495" fill="none" stroke="#3a5a6a" stroke-width="0.8" opacity="0.5"/>
  <path d="M 1100,472 L 1115,482 L 1130,470" fill="none" stroke="#3a5a6a" stroke-width="0.8" opacity="0.5"/>
  <!-- River label -->
  <text x="450" y="573" font-family="Share Tech Mono, monospace" font-size="9" fill="#2a4a5a" letter-spacing="3" opacity="0.8">FROZEN RIVER</text>

  <!-- â•â•â• SMALL FROZEN POND (near homestead) â•â•â• -->
  <ellipse cx="810" cy="360" rx="55" ry="30" fill="#1a2e3a" stroke="#2a4a5a" stroke-width="1" opacity="0.8"/>
  <path d="M 790,352 L 800,360 L 795,370" fill="none" stroke="#2a4a5a" stroke-width="0.7" opacity="0.5"/>
  <path d="M 815,348 L 822,356" fill="none" stroke="#2a4a5a" stroke-width="0.7" opacity="0.5"/>

  <!-- â•â•â• DAM / RESERVOIR â•â•â• -->
  <!-- Reservoir -->
  <ellipse cx="870" cy="185" rx="130" ry="75" fill="#1a2e3a" stroke="#2a4a5a" stroke-width="1.5" opacity="0.9"/>
  <!-- Ice surface detail on reservoir -->
  <ellipse cx="870" cy="185" rx="120" ry="68" fill="none" stroke="#2a4a5a" stroke-width="0.5" stroke-dasharray="3,5" opacity="0.4"/>
  <path d="M 820,170 L 840,185 L 828,198" fill="none" stroke="#3a5a6a" stroke-width="1" opacity="0.4"/>
  <path d="M 890,165 L 905,178" fill="none" stroke="#3a5a6a" stroke-width="1" opacity="0.4"/>
  <!-- Dam wall -->
  <rect x="730" y="258" width="18" height="50" fill="#2a2828" stroke="#3a3535" stroke-width="1.5"/>
  <rect x="748" y="260" width="120" height="46" fill="#252323" stroke="#3a3535" stroke-width="1.5"/>
  <rect x="868" y="258" width="18" height="50" fill="#2a2828" stroke="#3a3535" stroke-width="1.5"/>
  <!-- Dam face details â€” ice -->
  <line x1="748" y1="268" x2="748" y2="305" stroke="#2a4a5a" stroke-width="2" opacity="0.6"/>
  <line x1="760" y1="265" x2="760" y2="305" stroke="#2a4a5a" stroke-width="2" opacity="0.5"/>
  <line x1="775" y1="263" x2="775" y2="305" stroke="#2a4a5a" stroke-width="2" opacity="0.5"/>
  <line x1="790" y1="263" x2="790" y2="305" stroke="#2a4a5a" stroke-width="2" opacity="0.4"/>
  <line x1="808" y1="262" x2="808" y2="305" stroke="#2a4a5a" stroke-width="2" opacity="0.5"/>
  <line x1="825" y1="263" x2="825" y2="305" stroke="#2a4a5a" stroke-width="2" opacity="0.4"/>
  <line x1="845" y1="264" x2="845" y2="305" stroke="#2a4a5a" stroke-width="2" opacity="0.5"/>
  <line x1="862" y1="265" x2="862" y2="305" stroke="#2a4a5a" stroke-width="2" opacity="0.4"/>
  <!-- Observation tower next to dam -->
  <rect x="712" y="258" width="14" height="52" fill="#222" stroke="#333" stroke-width="1"/>
  <rect x="706" y="254" width="26" height="8" fill="#2a2a2a" stroke="#3a3a3a" stroke-width="1"/>
  <!-- Broken door indicator -->
  <rect x="800" y="260" width="10" height="18" fill="#1a1010" stroke="#8b0000" stroke-width="1"/>

  <!-- â•â•â• MAIN ROAD (to town, SE direction) â•â•â• -->
  <!-- Road from town entering from SE -->
  <path d="M 1600,750 Q 1400,700 1280,660 Q 1180,630 1100,590 Q 1020,555 940,535 Q 880,520 820,515"
        fill="none" stroke="#2a2218" stroke-width="14" opacity="0.9"/>
  <path d="M 1600,750 Q 1400,700 1280,660 Q 1180,630 1100,590 Q 1020,555 940,535 Q 880,520 820,515"
        fill="none" stroke="#3a3025" stroke-width="10" opacity="0.7"/>
  <!-- Road dashes center line -->
  <path d="M 1600,750 Q 1400,700 1280,660 Q 1180,630 1100,590 Q 1020,555 940,535 Q 880,520 820,515"
        fill="none" stroke="#4a3a28" stroke-width="1.5" stroke-dasharray="15,12" opacity="0.5"/>

  <!-- Road continues north toward homestead area â€” unpaved track -->
  <path d="M 820,515 Q 810,480 800,450 Q 790,420 780,390"
        fill="none" stroke="#2a2010" stroke-width="7" stroke-dasharray="8,5" opacity="0.8"/>

  <!-- â•â•â• FOREST TRACKS / PATHS â•â•â• -->
  <!-- Main forest track: displacement point â†’ homestead -->
  <path d="M 640,590 Q 660,565 680,548 Q 710,528 740,515 Q 770,503 800,492 Q 820,482 840,470 Q 860,460 870,448"
        fill="none" stroke="#3a2a15" stroke-width="4" stroke-dasharray="6,4" opacity="0.85" id="path-disp-home"/>

  <!-- Track: homestead â†’ dam -->
  <path d="M 870,448 Q 865,420 858,395 Q 848,368 840,342 Q 832,318 820,300 Q 808,282 800,268"
        fill="none" stroke="#3a2a15" stroke-width="3" stroke-dasharray="5,5" opacity="0.75" id="path-home-dam"/>

  <!-- Military approach path (from W road) -->
  <path d="M 820,515 Q 790,500 760,490 Q 720,478 680,468 Q 640,458 600,452 Q 560,446 520,445 Q 480,444 450,446 Q 420,448 400,440"
        fill="none" stroke="#1a2030" stroke-width="5" stroke-dasharray="10,6" opacity="0.6" id="path-military"/>

  <!-- Track: dam â†’ facility entrance (short, goes underground) -->
  <path d="M 800,268 Q 795,255 790,240"
        fill="none" stroke="#1a1010" stroke-width="3" stroke-dasharray="3,3" opacity="0.6"/>

  <!-- BIRCH TREE WITH SYMBOLS (midway on displacementâ†’homestead track) -->
  <g transform="translate(755,528)" id="birch-symbol">
    <!-- Tree trunk -->
    <rect x="-4" y="-25" width="8" height="30" fill="#2a2a22" stroke="#3a3a2a" stroke-width="1" rx="1"/>
    <!-- Symbol cut into bark -->
    <polygon points="0,-18 5,-8 -5,-8" fill="none" stroke="#5a3a1a" stroke-width="1.2" opacity="0.9"/>
    <circle cx="0" cy="-5" r="4" fill="none" stroke="#5a3a1a" stroke-width="1" opacity="0.8"/>
  </g>

  <!-- â•â•â• MILITARY ROUTE ARROW â•â•â• -->
  <!-- Snowmobile tracks from west (dashed, different color) -->
  <path d="M 0,445 Q 100,442 200,444 Q 280,445 350,443 Q 380,442 400,440"
        fill="none" stroke="#1a2535" stroke-width="6" stroke-dasharray="12,6" opacity="0.5"/>
  <!-- Arrow direction indicators -->
  <polygon points="400,440 388,435 390,445" fill="#1a3050" opacity="0.6"/>

  <!-- â•â•â• VOSS TRAIL (from displacement to homestead to dam) â•â•â• -->
  <!-- More direct/aggressive path than the regular track -->
  <path d="M 640,590 Q 670,562 705,540 Q 740,518 770,505 Q 800,493 825,480 Q 848,470 862,456"
        fill="none" stroke="#5a1010" stroke-width="2" stroke-dasharray="4,4" opacity="0.6"/>
  <!-- Small arrow heads along trail -->
  <polygon points="755,511 748,506 748,516" fill="#5a1010" opacity="0.6"/>
  <polygon points="825,480 818,475 818,485" fill="#5a1010" opacity="0.6"/>

  <!-- â•â•â• DISPLACEMENT ARRIVAL POINT â•â•â• -->
  <!-- Warm glow area -->
  <circle cx="640" cy="590" r="45" fill="#1a1005" opacity="0.4" filter="url(#glow-gold)"/>
  <circle cx="640" cy="590" r="32" fill="#2a1a05" opacity="0.3" filter="url(#glow-gold)"/>
  <!-- Scorch ring -->
  <circle cx="640" cy="590" r="28" fill="none" stroke="#5a3a08" stroke-width="1.5" stroke-dasharray="3,3" opacity="0.7"/>
  <circle cx="640" cy="590" r="22" fill="none" stroke="#7a5010" stroke-width="1" opacity="0.5"/>
  <!-- Warm patch center -->
  <circle cx="640" cy="590" r="14" fill="#1a1005" stroke="#cc8800" stroke-width="1.5" opacity="0.85" filter="url(#glow-gold)"/>

  <!-- â•â•â• HOMESTEAD â•â•â• -->
  <!-- Warm light radius -->
  <circle cx="870" cy="448" r="60" fill="#1a1305" opacity="0.25" filter="url(#glow-soft)"/>
  <!-- House main structure -->
  <rect x="846" y="427" width="48" height="38" fill="#1e1a12" stroke="#3a3025" stroke-width="1.5"/>
  <!-- Roof -->
  <polygon points="843,427 870,412 897,427" fill="#181410" stroke="#2a2820" stroke-width="1"/>
  <!-- Chimney -->
  <rect x="858" y="406" width="7" height="12" fill="#1a1612" stroke="#2a2220" stroke-width="1"/>
  <!-- Smoke from chimney -->
  <path d="M 861,406 Q 858,395 855,382 Q 852,370 856,358" fill="none" stroke="#2a2a2a" stroke-width="2" stroke-dasharray="2,3" opacity="0.5"/>
  <path d="M 862,404 Q 862,392 865,380" fill="none" stroke="#2a2a2a" stroke-width="1.5" stroke-dasharray="2,3" opacity="0.3"/>
  <!-- Windows with warm light -->
  <rect x="850" y="432" width="10" height="9" fill="#2a1f08" stroke="#4a3510" stroke-width="1" opacity="0.9" filter="url(#glow-gold)"/>
  <rect x="878" y="432" width="10" height="9" fill="#2a1f08" stroke="#4a3510" stroke-width="1" opacity="0.9" filter="url(#glow-gold)"/>
  <!-- Door -->
  <rect x="862" y="448" width="10" height="17" fill="#120e08" stroke="#2a2218" stroke-width="1"/>
  <!-- Goat pen -->
  <rect x="898" y="430" width="30" height="22" fill="none" stroke="#2a2018" stroke-width="1" stroke-dasharray="3,2" opacity="0.7"/>
  <!-- Dead goat indicator -->
  <circle cx="912" cy="440" r="4" fill="#1a0808" stroke="#5a1010" stroke-width="1" opacity="0.8"/>
  <!-- Woodpile -->
  <rect x="836" y="454" width="8" height="12" fill="#1a1208" stroke="#2a1a10" stroke-width="1"/>

  <!-- â•â•â• DAM ENTRANCE MARKER â•â•â• -->
  <!-- Dam entrance (broken door glow) -->
  <circle cx="800" cy="268" r="18" fill="#1a0505" opacity="0.3" filter="url(#glow-red)"/>
  <!-- Entry marker -->
  <circle cx="800" cy="268" r="10" fill="#0f0808" stroke="#8b0000" stroke-width="1.5" opacity="0.9"/>
  <!-- Down arrow to indicate underground entry -->
  <text x="800" y="272" font-family="Share Tech Mono, monospace" font-size="10" fill="#8b0000" text-anchor="middle" opacity="0.9">â–¼</text>

  <!-- â•â•â• MILITARY STAGING AREA â•â•â• -->
  <!-- Faint camp indicator to the west -->
  <circle cx="380" cy="440" r="35" fill="#0a0f18" opacity="0.4"/>
  <circle cx="380" cy="440" r="28" fill="none" stroke="#1a2535" stroke-width="1" stroke-dasharray="4,4" opacity="0.5"/>
  <!-- Snowmobile icons (simple) -->
  <g transform="translate(360,435)" opacity="0.6">
    <rect x="0" y="0" width="18" height="7" rx="2" fill="#1a2030" stroke="#2a3545" stroke-width="1"/>
    <ellipse cx="4" cy="7" rx="3" ry="2" fill="#1a2030" stroke="#2a3545" stroke-width="1"/>
    <ellipse cx="14" cy="7" rx="3" ry="2" fill="#1a2030" stroke="#2a3545" stroke-width="1"/>
  </g>
  <g transform="translate(385,428)" opacity="0.5">
    <rect x="0" y="0" width="18" height="7" rx="2" fill="#1a2030" stroke="#2a3545" stroke-width="1"/>
    <ellipse cx="4" cy="7" rx="3" ry="2" fill="#1a2030" stroke="#2a3545" stroke-width="1"/>
    <ellipse cx="14" cy="7" rx="3" ry="2" fill="#1a2030" stroke="#2a3545" stroke-width="1"/>
  </g>
  <!-- Military light -->
  <circle cx="380" cy="440" r="6" fill="#0a1020" stroke="#1a3050" stroke-width="1.5" opacity="0.7"/>

  <!-- â•â•â• TOWN (far SE) â•â•â• -->
  <!-- Town glow -->
  <circle cx="1420" cy="760" r="80" fill="#0f120a" opacity="0.5" filter="url(#glow-soft)"/>
  <!-- Town buildings grid (schematic) -->
  <g transform="translate(1380,720)" opacity="0.7">
    <rect x="0"  y="0"  width="20" height="14" fill="#141410" stroke="#252520" stroke-width="1"/>
    <rect x="24" y="0"  width="20" height="14" fill="#141410" stroke="#252520" stroke-width="1"/>
    <rect x="48" y="0"  width="16" height="14" fill="#141410" stroke="#252520" stroke-width="1"/>
    <rect x="0"  y="18" width="16" height="12" fill="#141410" stroke="#252520" stroke-width="1"/>
    <rect x="20" y="18" width="22" height="12" fill="#141410" stroke="#252520" stroke-width="1"/>
    <rect x="46" y="18" width="18" height="12" fill="#141410" stroke="#252520" stroke-width="1"/>
    <rect x="0"  y="34" width="30" height="14" fill="#141410" stroke="#252520" stroke-width="1"/>
    <rect x="34" y="34" width="30" height="14" fill="#141410" stroke="#252520" stroke-width="1"/>
    <!-- A couple lit windows -->
    <rect x="4"  y="3"  width="5" height="4" fill="#1e1c0a" stroke="#3a3510" stroke-width="0.5" opacity="0.8"/>
    <rect x="26" y="20" width="5" height="4" fill="#1e1c0a" stroke="#3a3510" stroke-width="0.5" opacity="0.8"/>
    <rect x="50" y="37" width="5" height="4" fill="#1e1c0a" stroke="#3a3510" stroke-width="0.5" opacity="0.6"/>
    <!-- Church / tower -->
    <rect x="66" y="10" width="12" height="40" fill="#141410" stroke="#252520" stroke-width="1"/>
    <polygon points="72,10 66,18 78,18" fill="#181814" stroke="#252520" stroke-width="1"/>
    <!-- Cross on church -->
    <line x1="72" y1="4" x2="72" y2="12" stroke="#1a1a15" stroke-width="1"/>
    <line x1="69" y1="7" x2="75" y2="7" stroke="#1a1a15" stroke-width="1"/>
  </g>
  <!-- Town road connection -->
  <path d="M 1380,745 Q 1350,730 1320,720 Q 1270,705 1220,695"
        fill="none" stroke="#2a2218" stroke-width="8" opacity="0.7"/>

  <!-- â•â•â• TREELINE EDGES (add texture at forest boundaries) â•â•â• -->
  <!-- Individual tree silhouettes along clearings -->
  <g fill="#0e1a0c" opacity="0.8">
    <!-- Around displacement point clearing -->
    <polygon points="595,570 589,555 601,555"/><rect x="592" y="570" width="3" height="5" fill="#080e06"/>
    <polygon points="615,560 609,545 621,545"/><rect x="612" y="560" width="3" height="5" fill="#080e06"/>
    <polygon points="670,565 664,550 676,550"/><rect x="667" y="565" width="3" height="5" fill="#080e06"/>
    <polygon points="690,572 684,558 696,558"/><rect x="687" y="572" width="3" height="5" fill="#080e06"/>
    <polygon points="610,608 604,593 616,593"/><rect x="607" y="608" width="3" height="5" fill="#080e06"/>
    <polygon points="660,610 654,595 666,595"/><rect x="657" y="610" width="3" height="5" fill="#080e06"/>
    <!-- Around homestead -->
    <polygon points="820,430 814,416 826,416"/><rect x="817" y="430" width="3" height="5" fill="#080e06"/>
    <polygon points="925,425 919,411 931,411"/><rect x="922" y="425" width="3" height="5" fill="#080e06"/>
    <polygon points="840,490 834,476 846,476"/><rect x="837" y="490" width="3" height="5" fill="#080e06"/>
    <polygon points="910,485 904,471 916,471"/><rect x="907" y="485" width="3" height="5" fill="#080e06"/>
    <!-- Around dam -->
    <polygon points="730,250 724,236 736,236"/><rect x="727" y="250" width="3" height="5" fill="#080e06"/>
    <polygon points="900,250 894,236 906,236"/><rect x="897" y="250" width="3" height="5" fill="#080e06"/>
    <polygon points="710,290 704,276 716,276"/><rect x="707" y="290" width="3" height="5" fill="#080e06"/>
    <polygon points="920,288 914,274 926,274"/><rect x="917" y="288" width="3" height="5" fill="#080e06"/>
  </g>

  <!-- â•â•â• VIGNETTE â•â•â• -->
  <rect width="1600" height="900" fill="url(#vignette)" pointer-events="none"/>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- INTERACTIVE HOTSPOT LAYERS (invisible click/hover zones) -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

  <!-- 1. DISPLACEMENT ARRIVAL POINT -->
  <circle cx="640" cy="590" r="45" fill="transparent" class="hotspot" id="hs-displacement"
    data-id="ARRIVAL-ORIGIN"
    data-name="Displacement Arrival Point"
    data-tag="start"
    data-tag-label="SCENARIO START"
    data-desc="A circular warm patch in the deep snow. The players appear here â€” standing, lying, kneeling. No warning. The last thing they remember is their beds."
    data-dist="2.4km SW of homestead Â· 3.2km S of dam"
    data-items='["Warm patch: 20 minutes before it fades completely","Circular scorch-discoloration in snow â€” perfectly round","Faint blue-grey shimmer if light is angled correctly","Voss tracks heading NE toward homestead","No signs of mechanism, vehicle, or human approach","Temperature: âˆ’32Â°C with wind the moment warmth fades"]'
    data-note="Open with the warmth still present. Let them feel it leaving. The moment the patch goes cold is the moment survival pressure begins. Voss is already 5 minutes ahead of them â€” he did not wait."
  />

  <!-- 2. BIRCH TREE SYMBOLS -->
  <circle cx="755" cy="520" r="30" fill="transparent" class="hotspot" id="hs-birch"
    data-id="FOREST-BIRCH"
    data-name="The Birch Tree (Symbols)"
    data-tag="key"
    data-tag-label="KEY FIND"
    data-desc="Midway along the forest track between the arrival point and the homestead. A birch tree, bark stripped. Geometric symbols carved in ash or charcoal â€” shapes that seem to shift if you look too long."
    data-dist="~1.2km NE of arrival point Â· midway to homestead"
    data-items='["â˜… Yithian navigational glyphs â€” Voss carved these instinctively","Carved in ash/charcoal â€” not blood (not yet)","Symbols match carvings in the access tunnel (Level 4)","Symbols match bedrock carvings Gennady saw as a child","The act of carving: Voss did not know why he was doing it","Photographed/sketched: Gennady confirms the bedrock connection"]'
    data-note="This is the first piece of the larger puzzle. Players who document the symbols and show Gennady get a significant lore hit. The symbols are not a clue to the resolution â€” they are a clue to the age and nature of the thing. That distinction matters for dread."
  />

  <!-- 3. FROZEN POND -->
  <ellipse cx="810" cy="360" rx="65" ry="40" fill="transparent" class="hotspot" id="hs-pond"
    data-id="POND-FROZEN"
    data-name="Frozen Pond"
    data-tag-label=""
    data-desc="A small frozen pond between the homestead and the dam approach. Ice is 30â€“40cm thick â€” walkable but not trustworthy in a fight or at speed."
    data-dist="~400m S of dam Â· ~150m N of homestead"
    data-items='["Ice: 30â€“40cm thick â€” supports weight at walking pace","At running pace or under combat stress: check required","Under the ice: 3â€“4 meters of black water","Voss crossed here â€” tracks visible on the ice surface","At night: surface reflects stars, disorienting"]'
    data-note="This is an environmental obstacle that only matters if players are being chased or chase Voss across it. In that case, make them aware the ice is not guaranteed. The disorienting star-reflection is a free atmosphere note â€” use it on approach."
  />

  <!-- 4. HOMESTEAD -->
  <ellipse cx="870" cy="452" rx="70" ry="50" fill="transparent" class="hotspot" id="hs-homestead"
    data-id="HOMESTEAD"
    data-name="The Zubov Homestead"
    data-tag="key"
    data-tag-label="KEY LOCATION"
    data-desc="Small, solid, built for Siberian winters. Yellow light in two windows. Smoke from the chimney. Gennady is inside with a rifle across his knees. Nadia is gone."
    data-dist="2.4km NE of arrival point Â· 1.2km S of dam"
    data-items='["â˜… Gennady Zubov â€” inside, armed, frightened, waiting","Nadia missing â€” drag marks lead NE toward dam","Goat pen: one goat dead, throat cut, precise incision","Drag marks + two sets of footprints (Voss heavy, Nadia struggling)","â˜… Key items Gennady provides: coat, gloves, flashlight, flares, tin archive","Satellite phone (Nadia\'s) â€” dead battery","Hum audible from inside the house","Tin archive: facility photograph + 3 pages from scientific journal"]'
    data-note="This is the emotional core of Act Two. Gennady's grief and fear are the human stakes. Don't rush the communication barrier â€” let the awkward silence and gesture work. The moment he lowers the rifle is the turn. Everything after that is an exchange of what each party knows and needs."
  />

  <!-- 5. GOAT PEN / DRAG MARKS -->
  <ellipse cx="920" cy="443" rx="35" ry="25" fill="transparent" class="hotspot" id="hs-goat"
    data-id="HOMESTEAD-GOAT"
    data-name="Goat Pen â€” Drag Marks"
    data-tag="danger"
    data-tag-label="CRIME SCENE"
    data-desc="The rear of the homestead. One goat killed cleanly. Two sets of footprints leaving NE. The trail is clear in the snow."
    data-dist="rear of homestead"
    data-items='["Dead goat: throat cut â€” single precise incision, not an animal attack","Blood in the snow around the pen","Voss tracks: heavy, even, purposeful â€” heading NE","Nadia tracks: irregular, lighter â€” dragged or coerced","Trail leads directly toward the frozen pond and then the dam","No struggle near the pen â€” she was taken fast"]'
    data-note="The precision of the goat cut matters. This is not desperation or violence â€” it is practiced. Voss has done ritual killing before. This should shift the players' read of him from scared displaced person to someone more controlled and more dangerous."
  />

  <!-- 6. FROZEN RIVER CROSSING -->
  <ellipse cx="810" cy="515" rx="80" ry="30" fill="transparent" class="hotspot" id="hs-river"
    data-id="RIVER-CROSSING"
    data-name="Frozen River Crossing"
    data-tag-label=""
    data-desc="The river is fully frozen â€” solid enough to cross on foot and by snowmobile. The ice surface is uneven, wind-scoured, with pressure ridges that can catch a boot."
    data-dist="~800m S of homestead on road approach"
    data-items='["Ice: 40â€“60cm in this section â€” reliable","Pressure ridges: uneven surface, easy to trip in the dark","Snowmobile tracks already on the ice (Rybak unit crossed here)","Wind acceleration through the river valley: exposed crossing","Night crossing: disorienting â€” difficult to judge edge in darkness","Distance across: ~30m at the main track crossing"]'
    data-note="The Rybak unit crossed here. Their snowmobile track is visible and recent. This is the first concrete evidence of the military before players encounter them. It should shift the threat map."
  />

  <!-- 7. DAM + FACILITY ENTRANCE -->
  <ellipse cx="808" cy="278" rx="100" ry="55" fill="transparent" class="hotspot" id="hs-dam"
    data-id="DAM-ENTRANCE"
    data-name="The Dam â€” Facility Entrance"
    data-tag="danger"
    data-tag-label="CRITICAL ENTRANCE"
    data-desc="Brutalist Soviet concrete, ice-sheeted. The broken door on the walkway was forced outward â€” recently. The facility entrance is through the machinery room behind the dam."
    data-dist="1.2km N of homestead Â· 3.2km N of arrival point"
    data-items='["Broken door: warped outward â€” something forced it from within","â˜… Blood circle with Yithian symbols on the walkway (RECENT)","Corroded ladder on eastern face â€” one rung unsafe","Footprints on walkway frost: two people, heading inside","Hum: in chest now, rhythmic, almost like breathing","Reservoir: 130m long, fully frozen, 8m deep under ice","Dam wall: 3m thick reinforced concrete â€” no going through it","â˜… Primary access: dam machinery room â†’ pressure door â†’ staircase"]'
    data-note="Blood symbol here is different from the birch tree symbols â€” this one is drawn with intent and purpose. Voss knew what he was doing by the time he reached the dam. The breathing quality of the hum is the detail to land here. The facility is alive."
  />

  <!-- 8. RESERVOIR -->
  <ellipse cx="870" cy="185" rx="145" ry="85" fill="transparent" class="hotspot" id="hs-reservoir"
    data-id="RESERVOIR"
    data-name="Soviet Reservoir"
    data-tag-label=""
    data-desc="Impounded above the dam. Fully frozen surface, but the water underneath runs cold and black. Built to power the facility â€” officially listed as a hydroelectric project."
    data-dist="directly N of dam wall"
    data-items='["Surface: frozen, 25â€“35cm â€” marginal for walking","Depth: 8â€“12m below ice","Edges near dam: thinner ice due to residual current","The official cover story for the facility\'s construction","In old records: listed as Gidroelektrostantsiya 14 (Hydroelectric Plant 14)","In reality: the reservoir powers nothing â€” facility is geothermal"]'
    data-note="If players approach the reservoir edge: mention the sound of water moving under the ice. The geothermal activity keeps a slight current in the deepest part. It should feel wrong â€” ice that sounds hollow underfoot."
  />

  <!-- 9. MILITARY APPROACH VECTOR -->
  <ellipse cx="380" cy="442" rx="70" ry="40" fill="transparent" class="hotspot" id="hs-military"
    data-id="MILITARY-RYBAK"
    data-name="Detachment Rybak â€” Approach Vector"
    data-tag="danger"
    data-tag-label="HOSTILE FORCE"
    data-desc="Three snowmobiles, six soldiers, Lieutenant Korolev. They have been monitoring anomalous EM readings for 18 hours. They are 3km west and closing. They will reach the facility 40 minutes after the players â€” unless the players are slow."
    data-dist="~3km W of facility Â· approaching via forest track"
    data-items='["6 soldiers + Lieutenant Korolev (signals intelligence)","3 snowmobiles â€” fast, loud, visible at distance","Equipment: cold weather assault gear, automatic rifles, zip ties, 2 portable floodlights","Korolev objective: contain anomaly, detain all unauthorized personnel","Standing orders: lethal force if containment fails","â˜… Snowmobile engine: audible 800m in still night air","Snowmobile lights: visible through trees at 600m","ETA from current position to facility: ~40 minutes"]'
    data-note="Korolev is a professional in over his head. He is not going to announce his arrival â€” he will cut lights and engine 200m out and advance on foot. Players who are paying attention can hear the distant engine. Players who are rushing the facility will not see them until they're already inside."
  />

  <!-- 10. FOREST TRACK -->
  <path d="M 665,575 Q 700,548 735,528 Q 770,510 800,498 Q 830,486 852,474" stroke="transparent" stroke-width="30" fill="none" class="hotspot" id="hs-track"
    data-id="TRACK-NE"
    data-name="Northeast Forest Track"
    data-tag-label="ROUTE"
    data-desc="The primary overland route from the arrival point to the homestead and then the dam. A forestry track, unpaved, snow-packed. Navigable on foot. Voss's tracks are clearly visible."
    data-dist="~2.4km total arrival to homestead Â· ~3.6km arrival to dam"
    data-items='["Width: 2â€“3m â€” single vehicle width","Surface: compacted snow over frozen mud","Voss tracks: heavy prints, long stride, NE direction","At a jog: arrival to homestead in ~25 minutes","At a jog: arrival to dam in ~45 minutes","In the dark: easy to follow Voss tracks but disorienting otherwise","â˜… Birch tree with symbols: approximately halfway to homestead","Wind break: forest on both sides reduces wind chill by ~5Â°C","Detachment Rybak uses the western branch of this track"]'
    data-note="Time the movement carefully. Voss has a 5-minute head start. If players move immediately and at pace, they can intercept him at the homestead. If they delay (fire-making, exploration), he is already there and gone by the time they arrive. That is fine â€” it changes the stakes, not the scenario."
  />

  <!-- 11. TOWN (distant) -->
  <ellipse cx="1420" cy="762" rx="110" ry="75" fill="transparent" class="hotspot" id="hs-town"
    data-id="TOWN-DISTANT"
    data-name="Nearest Town (Unnamed)"
    data-tag="town"
    data-tag-label="DISTANT / NOT ACCESSIBLE"
    data-desc="The nearest populated settlement. A small, unremarkable town â€” a few hundred people, a fuel depot, a clinic. Irrelevant to the scenario unless players somehow reach it."
    data-dist="~18km SE via forest road Â· ~4 hour walk in these conditions"
    data-items='["Distance: ~18km by road","On foot in âˆ’32Â°C: not survivable without shelter stops","By snowmobile: ~25 minutes (if players acquire one)","Detachment Rybak originated here â€” their staging point","Satellite phone signal: reachable from the road outside town","Civilian population: ~300 people, mostly forestry/mining workers","Medical: one nurse-staffed clinic, limited supplies","Rybak left from here 6 hours ago â€” their vehicle is still at the depot"]'
    data-note="The town is a future hook, not an Act One resource. If players are considering walking 18km in âˆ’32Â°C as a plan: gently remind them what their cold exposure track looks like. The road exists and the town exists â€” it simply cannot save them tonight."
  />

  <!-- 12. ROAD TO TOWN -->
  <path d="M 950,530 Q 1050,560 1150,590 Q 1250,620 1350,650 Q 1420,680 1480,720" stroke="transparent" stroke-width="30" fill="none" class="hotspot" id="hs-road"
    data-id="ROAD-SE"
    data-name="Forest Road (to Town)"
    data-tag="path"
    data-tag-label="ROUTE"
    data-desc="The only maintained road in the area, running SE from the homestead vicinity toward the distant town. Unpaved, snow-packed, just wide enough for one vehicle."
    data-dist="~18km to town Â· connects homestead track at junction"
    data-items='["Width: 4â€“5m â€” single vehicle, difficult to pass","Surface: compacted snow, some ice, rough in places","Rybak snowmobile tracks visible (incoming direction)","At night: no lighting whatsoever","By snowmobile: 25 min to town","On foot: 4+ hours â€” potentially fatal in current conditions","â˜… Junction point: forest track from homestead meets this road","CB radio: some forestry vehicles use channel 9 on this road"]'
    data-note="If players acquire a snowmobile from Rybak (disabled, stolen, or abandoned), the road becomes an escape route after the scenario resolves. File that away as a potential ending beat."
  />

  <!-- â•â•â• LOCATION LABELS â•â•â• -->
  <!-- Arrival point label -->
  <text x="640" y="646" font-family="Share Tech Mono, monospace" font-size="10" fill="#cc9900" text-anchor="middle" letter-spacing="1" opacity="0.9" filter="url(#shadow)">ARRIVAL POINT</text>
  <text x="640" y="659" font-family="Share Tech Mono, monospace" font-size="8" fill="#7a5a10" text-anchor="middle" letter-spacing="1" opacity="0.8">WARM PATCH FADING</text>

  <!-- Homestead label -->
  <text x="870" y="508" font-family="Share Tech Mono, monospace" font-size="10" fill="#cc9900" text-anchor="middle" letter-spacing="1" opacity="0.9" filter="url(#shadow)">ZUBOV HOMESTEAD</text>
  <text x="870" y="521" font-family="Share Tech Mono, monospace" font-size="8" fill="#7a5a10" text-anchor="middle" letter-spacing="1" opacity="0.8">GENNADY Â· NADIA GONE</text>

  <!-- Dam label -->
  <text x="808" y="233" font-family="Share Tech Mono, monospace" font-size="10" fill="#c0392b" text-anchor="middle" letter-spacing="1" opacity="0.9" filter="url(#shadow)">THE DAM</text>
  <text x="808" y="246" font-family="Share Tech Mono, monospace" font-size="8" fill="#6a1010" text-anchor="middle" letter-spacing="1" opacity="0.8">OBJECT 14-V BELOW</text>

  <!-- Town label -->
  <text x="1420" y="846" font-family="Share Tech Mono, monospace" font-size="9" fill="#4a6a40" text-anchor="middle" letter-spacing="2" opacity="0.7">NEAREST TOWN</text>
  <text x="1420" y="858" font-family="Share Tech Mono, monospace" font-size="7" fill="#2a4a28" text-anchor="middle" letter-spacing="2" opacity="0.6">~18km Â· NOT ACCESSIBLE TONIGHT</text>

  <!-- Military label -->
  <text x="380" y="490" font-family="Share Tech Mono, monospace" font-size="9" fill="#1a3050" text-anchor="middle" letter-spacing="1" opacity="0.8">RYBAK APPROACH</text>
  <text x="380" y="502" font-family="Share Tech Mono, monospace" font-size="7" fill="#1a2540" text-anchor="middle" letter-spacing="1" opacity="0.7">3km Â· 40min ETA</text>

  <!-- Distance annotations on tracks -->
  <text x="692" y="543" font-family="Share Tech Mono, monospace" font-size="8" fill="#3a2a15" text-anchor="middle" opacity="0.7" transform="rotate(-20,692,543)">2.4km</text>
  <text x="845" y="368" font-family="Share Tech Mono, monospace" font-size="8" fill="#3a2a15" text-anchor="middle" opacity="0.7" transform="rotate(-80,845,368)">1.2km</text>

  <!-- River label placed -->
  <!-- Voss trail label -->
  <text x="720" y="497" font-family="Share Tech Mono, monospace" font-size="7" fill="#5a1010" text-anchor="middle" opacity="0.6" transform="rotate(-18,720,497)">VOSS TRACK</text>

  <!-- North indicator text -->
  <text x="1535" y="80" font-family="Cinzel, serif" font-size="12" fill="#1a2a3a" text-anchor="middle" letter-spacing="2" opacity="0.7">N</text>
  <line x1="1535" y1="90" x2="1535" y2="130" stroke="#1a2a3a" stroke-width="1" opacity="0.5"/>
  <polygon points="1535,90 1530,100 1535,96 1540,100" fill="#1a2a3a" opacity="0.5"/>
</svg>

<!-- Tooltip -->
<div class="tooltip" id="tooltip">
  <div class="tooltip-header">
    <div class="tt-left">
      <div class="tt-eyebrow" id="tt-id"></div>
      <div class="tt-name" id="tt-name"></div>
    </div>
    <div class="tt-tag" id="tt-tag"></div>
  </div>
  <div class="tooltip-body">
    <div class="tt-desc" id="tt-desc"></div>
    <ul class="tt-items" id="tt-items"></ul>
    <div class="tt-dist" id="tt-dist"></div>
  </div>
</div>

<!-- Legend -->
<div class="legend">
  <div class="legend-title">MAP LEGEND</div>
  <div class="legend-items">
    <div class="legend-item"><span class="legend-icon" style="color:#cc9900">â—‰</span> KEY LOCATION</div>
    <div class="legend-item"><span class="legend-icon" style="color:#c0392b">â—‰</span> DANGER / HOSTILE</div>
    <div class="legend-item"><span class="legend-icon" style="color:#4a8acc">â—‰</span> SCENARIO START</div>
    <div class="legend-item"><span class="legend-icon" style="color:#3a3025">â•Œ</span> FOREST TRACK</div>
    <div class="legend-item"><span class="legend-icon" style="color:#5a1010">â•Œ</span> VOSS ROUTE</div>
    <div class="legend-item"><span class="legend-icon" style="color:#1a2535">â•Œ</span> MILITARY APPROACH</div>
    <div class="legend-item"><span class="legend-icon" style="color:#2a4a5a">â–¬</span> FROZEN WATER</div>
  </div>
</div>

<!-- Scale bar -->
<div class="scale-bar">
  <div class="scale-line"></div>
  <div>0 â€”â€”â€”â€”â€”â€”â€” 1km</div>
</div>

<!-- Compass -->
<svg class="compass" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <circle cx="32" cy="32" r="30" stroke="#1a2a3a" stroke-width="1" opacity="0.5"/>
  <circle cx="32" cy="32" r="28" stroke="#0a1520" stroke-width="0.5" opacity="0.5"/>
  <polygon points="32,6 28,32 32,28 36,32" fill="#c0392b" opacity="0.7"/>
  <polygon points="32,58 28,32 32,36 36,32" fill="#1a2a3a" opacity="0.5"/>
  <line x1="32" y1="6" x2="32" y2="58" stroke="#0a1520" stroke-width="0.5" opacity="0.3"/>
  <line x1="6" y1="32" x2="58" y2="32" stroke="#0a1520" stroke-width="0.5" opacity="0.3"/>
  <circle cx="32" cy="32" r="3" fill="#1a2030" stroke="#2a3a4a" stroke-width="1" opacity="0.7"/>
  <text x="32" y="4" font-family="Share Tech Mono, monospace" font-size="7" fill="#1a2a3a" text-anchor="middle" opacity="0.7">N</text>
</svg>

<script>
  const tooltip = document.getElementById('tooltip');
  const ttId = document.getElementById('tt-id');
  const ttName = document.getElementById('tt-name');
  const ttDesc = document.getElementById('tt-desc');
  const ttItems = document.getElementById('tt-items');
  const ttTag = document.getElementById('tt-tag');
  const ttDist = document.getElementById('tt-dist');

  let mx = 0, my = 0, visible = false;

  document.addEventListener('mousemove', e => {
    mx = e.clientX; my = e.clientY;
    if (visible) positionTooltip();
  });

  function positionTooltip() {
    const tw = tooltip.offsetWidth || 340;
    const th = tooltip.offsetHeight || 240;
    const vw = window.innerWidth, vh = window.innerHeight;
    const pad = 16;
    let x = mx + 18, y = my + 12;
    if (x + tw > vw - pad) x = mx - tw - 14;
    if (y + th > vh - pad) y = my - th - 10;
    if (x < pad) x = pad;
    if (y < pad) y = pad;
    tooltip.style.left = x + 'px';
    tooltip.style.top = y + 'px';
  }

  const tagStyles = {
    start:  { label: null, cls: 'tag-start' },
    key:    { label: null, cls: 'tag-key' },
    danger: { label: null, cls: 'tag-danger' },
    town:   { label: null, cls: 'tag-town' },
    path:   { label: null, cls: 'tag-path' },
  };

  function showTooltip(el) {
    const id = el.dataset.id || '';
    const name = el.dataset.name || '';
    const desc = el.dataset.desc || '';
    const dist = el.dataset.dist || '';
    const tagType = el.dataset.tag || '';
    const tagLabel = el.dataset.tagLabel || '';
    const note = el.dataset.note || '';
    let items = [];
    try { items = JSON.parse(el.dataset.items || '[]'); } catch(e) {}

    ttId.textContent = id;
    ttName.textContent = name;
    ttDesc.textContent = desc;
    ttDist.textContent = dist ? 'ðŸ“ ' + dist : '';

    // Tag
    ttTag.className = 'tt-tag';
    ttTag.textContent = '';
    if (tagLabel) {
      const ts = tagStyles[tagType] || {};
      ttTag.className = 'tt-tag ' + (ts.cls || 'tag-key');
      ttTag.textContent = tagLabel;
    }

    ttItems.innerHTML = '';
    items.forEach(item => {
      const li = document.createElement('li');
      const t = item.trim();
      if (t.startsWith('â˜…')) li.classList.add('li-key');
      else if (t.startsWith('âš ') || t.startsWith('â—†')) li.classList.add('li-danger');
      li.textContent = t;
      ttItems.appendChild(li);
    });

    if (note) {
      const li = document.createElement('li');
      li.classList.add('li-note');
      li.textContent = '[ GM ] ' + note;
      ttItems.appendChild(li);
    }

    positionTooltip();
    tooltip.classList.add('visible');
    visible = true;
  }

  function hideTooltip() {
    tooltip.classList.remove('visible');
    visible = false;
  }

  document.querySelectorAll('.hotspot').forEach(el => {
    el.style.cursor = 'pointer';
    el.addEventListener('mouseenter', () => showTooltip(el));
    el.addEventListener('mouseleave', hideTooltip);
    el.addEventListener('click', () => showTooltip(el));
  });
</script>
</body>
</html>
